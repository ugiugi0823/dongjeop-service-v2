<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>접근성 분석 대시보드</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>
<body>
    <div class="container">
        <!-- 헤더 -->
        <header class="header">
            <h1>🏢 접근성 분석 대시보드</h1>
            <p class="subtitle">매장 이미지 접근성 정보 시각화</p>
        </header>

        <!-- 통계 카드 -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon">📸</div>
                <div class="stat-content">
                    <div class="stat-label">총 분석 이미지</div>
                    <div class="stat-value" id="totalImages">-</div>
                </div>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon">✅</div>
                <div class="stat-content">
                    <div class="stat-label">단차 없음</div>
                    <div class="stat-value" id="stepFree">-</div>
                    <div class="stat-percent" id="stepFreePercent">-</div>
                </div>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon">📊</div>
                <div class="stat-content">
                    <div class="stat-label">평균 접근성 점수</div>
                    <div class="stat-value" id="avgScore">-</div>
                    <div class="stat-grade" id="avgGrade">-</div>
                </div>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon">⭐</div>
                <div class="stat-content">
                    <div class="stat-label">우수 등급 (A 이상)</div>
                    <div class="stat-value" id="excellentCount">-</div>
                    <div class="stat-percent" id="excellentPercent">-</div>
                </div>
            </div>
        </div>

        <!-- 차트 섹션 -->
        <div class="charts-grid">
            <!-- 단차 분포 -->
            <div class="chart-card">
                <h2>단차 유무 분포</h2>
                <canvas id="stepChart"></canvas>
            </div>

            <!-- 통로 너비 분포 -->
            <div class="chart-card">
                <h2>통로 너비 분포</h2>
                <canvas id="widthChart"></canvas>
            </div>

            <!-- 의자 타입 분포 -->
            <div class="chart-card">
                <h2>의자 타입 분포</h2>
                <canvas id="chairChart"></canvas>
            </div>

            <!-- 등급 분포 -->
            <div class="chart-card">
                <h2>접근성 등급 분포</h2>
                <canvas id="gradeChart"></canvas>
            </div>
        </div>

        <!-- 이미지 갤러리 -->
        <div class="gallery-section">
            <div class="gallery-header">
                <h2>🖼️ 이미지 갤러리</h2>
                <div class="filters">
                    <select id="filterStep" class="filter-select">
                        <option value="">전체 (단차)</option>
                        <option value="false">단차 없음</option>
                        <option value="true">단차 있음</option>
                    </select>
                    
                    <select id="filterWidth" class="filter-select">
                        <option value="">전체 (통로)</option>
                        <option value="wide">Wide (넓음)</option>
                        <option value="normal">Normal (보통)</option>
                        <option value="narrow">Narrow (좁음)</option>
                        <option value="not_passable">통과 불가</option>
                    </select>
                    
                    <button id="applyFilters" class="btn-primary">필터 적용</button>
                </div>
            </div>
            
            <div class="gallery-grid" id="galleryGrid">
                <!-- 동적으로 생성 -->
            </div>
            
            <div class="pagination">
                <button id="prevPage" class="btn-secondary">이전</button>
                <span id="pageInfo">1 / 1</span>
                <button id="nextPage" class="btn-secondary">다음</button>
            </div>
        </div>

        <!-- 푸터 -->
        <footer class="footer">
            <p>접근성 분석 서비스 v1.0 | 데모 버전</p>
        </footer>
    </div>

    <!-- 모달 -->
    <div id="imageModal" class="modal">
        <div class="modal-content">
            <span class="modal-close">&times;</span>
            <div class="modal-body">
                <div class="modal-image-section">
                    <h3 id="modalFileName">-</h3>
                    <div class="modal-image-placeholder">
                        <p>이미지 미리보기</p>
                        <small id="modalImagePath">-</small>
                    </div>
                </div>
                <div class="modal-info-section">
                    <h3>접근성 정보</h3>
                    <div class="info-item">
                        <span class="info-label">단차:</span>
                        <span class="info-value" id="modalHasStep">-</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">통로 너비:</span>
                        <span class="info-value" id="modalWidth">-</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">의자 타입:</span>
                        <span class="info-value" id="modalChair">-</span>
                    </div>
                    <div class="score-box">
                        <div class="score-label">접근성 점수</div>
                        <div class="score-value" id="modalScore">-</div>
                        <div class="score-grade" id="modalGrade">-</div>
                    </div>
                    <div class="recommendations" id="modalRecommendations">
                        <!-- 동적으로 생성 -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="/static/js/app.js"></script>
</body>
</html>

