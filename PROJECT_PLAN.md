# 동접 서비스 v2 - 접근성 분석 플랫폼 기획서

## 📋 프로젝트 개요

### 프로젝트명
**동접 서비스 v2 (Dongjeop Service v2) - AI 기반 매장 접근성 분석 플랫폼**

### 프로젝트 목표
매장 이미지를 AI로 분석하여 접근성 정보를 자동으로 추출하고, 이를 시각화하여 매장의 접근성 수준을 평가하는 웹 플랫폼 구축

### 핵심 가치
- **자동화**: AI를 통한 접근성 정보 자동 추출
- **시각화**: 직관적인 대시보드와 차트를 통한 데이터 표현
- **배치 처리**: 대량의 이미지를 효율적으로 처리
- **실시간 분석**: 크롤링된 데이터의 실시간 분석 및 시각화

---

## 🎯 핵심 기능

### 1. 접근성 분석 기능
- **단차 분석**: 매장 입구/내부의 단차 유무 자동 감지
- **통로 너비 분석**: 휠체어 통과 가능한 통로 너비 분류
  - Wide (넓음): 휠체어 여유롭게 통과 가능
  - Normal (보통): 휠체어 통과 가능
  - Narrow (좁음): 휠체어 통과 어려움
  - Not Passable (통과 불가): 휠체어 통과 불가능
- **의자 타입 분석**: 매장 내 의자 유형 분류
  - 이동형 의자 (Movable Chair)
  - 높이 조절 가능 의자 (High Movable Chair)
  - 고정형 의자 (Fixed Chair)
  - 바닥 좌식 (Floor Chair)

### 2. 데이터 관리 기능
- **배치 처리**: 크롤링된 이미지를 배치 단위로 처리
- **데이터 저장**: 분석 결과를 JSONL 형식으로 저장
- **이미지 관리**: 분석된 이미지의 체계적 관리

### 3. 시각화 기능
- **대시보드**: 전체 통계 및 핵심 지표 시각화
- **이미지 갤러리**: 분석된 이미지들을 필터링하여 조회
- **지역별 대시보드**: 서울 지역별 접근성 현황 시각화
- **배치 분석**: 배치별 분석 상태 및 결과 관리

### 4. 필터링 및 검색 기능
- **다중 필터**: 단차, 통로 너비, 의자 타입별 필터링
- **레이블링 관리**: 재검토가 필요한 이미지 식별
- **페이지네이션**: 대량 데이터의 효율적 탐색

---

## 🏗️ 시스템 아키텍처

### 기술 스택
- **Frontend**: React 18, Vite, React Router, Recharts
- **Backend**: FastAPI, Python 3.8+
- **AI/ML**: GPT-4 Vision API (예정)
- **데이터 저장**: JSONL 파일 기반
- **배포**: GitHub Pages (정적 호스팅)

### 시스템 구조
```
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   크롤링 시스템    │───▶│   배치 처리      │───▶│   AI 분석       │
│   (@spider/)    │    │   (Batch)      │    │   (GPT-4 Vision)│
└─────────────────┘    └─────────────────┘    └─────────────────┘
                                │
                                ▼
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   데이터 저장     │◀───│   결과 처리      │◀───│   접근성 분석    │
│   (@gt/)        │    │   (Processor)   │    │   (Analyzer)    │
└─────────────────┘    └─────────────────┘    └─────────────────┘
                                │
                                ▼
┌─────────────────┐    ┌─────────────────┐
│   웹 대시보드     │◀───│   API 서버      │
│   (React)       │    │   (FastAPI)     │
└─────────────────┘    └─────────────────┘
```

---

## 📊 데이터 구조

### 입력 데이터 (크롤링)
- **소스**: `@spider/` 폴더
- **형식**: 배치별 이미지 파일
- **처리**: 배치 단위로 수집 및 처리

### 분석 결과 데이터
- **저장 위치**: `@gt/img_gt/` (이미지), `@gt/gt.jsonl` (메타데이터)
- **데이터 형식**: JSONL (JSON Lines)
- **필드 구조**:
```json
{
  "file_path": "이미지파일명",
  "has_step": false,
  "width_class": ["normal", "narrow"],
  "chair": {
    "has_movable_chair": true,
    "has_high_movable_chair": false,
    "has_fixed_chair": false,
    "has_floor_chair": false
  }
}
```

### 접근성 점수 시스템
- **점수 범위**: 0-100점
- **등급 분류**: S(90+), A(80+), B(70+), C(60+), D(60미만)
- **계산 기준**:
  - 단차 없음: +30점
  - 통로 너비: Wide(+0), Normal(-10), Narrow(-20), Not Passable(-40)
  - 이동형 의자 보유: +10점

---

## 🎨 사용자 인터페이스

### 1. 메인 대시보드
- **통계 카드**: 총 이미지 수, 단차 없음 비율, Wide 통로 비율, 우수 등급 비율
- **차트 시각화**: 단차 유무, 통로 너비, 의자 타입, 등급 분포
- **분석 요약**: 핵심 인사이트 및 개선 권장사항

### 2. 이미지 갤러리
- **그리드 레이아웃**: 이미지 썸네일과 메타데이터 표시
- **필터링 옵션**: 단차, 통로 너비, 의자 타입, 레이블링 필요 여부
- **페이지네이션**: 20개씩 페이지 단위로 표시
- **상세 보기**: 이미지 확대 및 접근성 점수 상세 정보

### 3. 배치 분석 페이지
- **분석 대기 배치**: 크롤링된 이미지 배치 목록
- **분석 완료 배치**: 처리 완료된 배치 결과
- **배치별 갤러리**: 선택한 배치의 이미지들 조회

### 4. 지역별 대시보드
- **서울 지도**: 구별 접근성 현황 시각화
- **상태 표시**: 분석 완료/대기/부분 완료 상태 표시
- **인터랙티브**: 지역 클릭 시 상세 정보 표시

---

## 🔄 워크플로우

### 1. 데이터 수집 단계
1. 크롤링 시스템이 매장 이미지 수집
2. `@spider/` 폴더에 배치별로 저장
3. 배치 처리 시스템이 새 배치 감지

### 2. AI 분석 단계
1. GPT-4 Vision API로 이미지 분석
2. 접근성 정보 추출 (단차, 통로 너비, 의자 타입)
3. 분석 결과를 `@gt/gt.jsonl`에 저장
4. 분석된 이미지를 `@gt/img_gt/`에 저장

### 3. 시각화 단계
1. 웹 대시보드에서 실시간 통계 업데이트
2. 사용자가 필터링하여 이미지 조회
3. 지역별 현황 및 배치별 분석 결과 확인

---

## 📈 성능 지표 (KPI)

### 정량적 지표
- **처리 속도**: 배치당 평균 처리 시간
- **정확도**: AI 분석 정확도 (수동 검증 대비)
- **처리량**: 일일 처리 가능한 이미지 수
- **시스템 가용성**: 99.9% 이상

### 정성적 지표
- **사용자 만족도**: 대시보드 사용성 평가
- **데이터 품질**: 접근성 정보의 일관성
- **시각화 효과성**: 차트 및 그래프의 직관성

---

## 🚀 개발 로드맵

### Phase 1: MVP 개발 (완료)
- [x] 기본 웹 대시보드 구축
- [x] 이미지 갤러리 및 필터링 기능
- [x] 정적 데이터 기반 데모 구현
- [x] GitHub Pages 배포

### Phase 2: AI 통합 (진행 예정)
- [ ] GPT-4 Vision API 연동
- [ ] 실제 이미지 분석 파이프라인 구축
- [ ] 배치 처리 자동화
- [ ] 분석 결과 검증 시스템

### Phase 3: 고도화 (향후)
- [ ] 실시간 알림 시스템
- [ ] 사용자 권한 관리
- [ ] API 확장 및 외부 연동
- [ ] 모바일 최적화

---

## 🔧 기술적 고려사항

### 보안
- API 키 관리 및 암호화
- 사용자 데이터 보호
- 이미지 개인정보 마스킹

### 확장성
- 마이크로서비스 아키텍처 고려
- 데이터베이스 마이그레이션 계획
- CDN을 통한 이미지 최적화

### 모니터링
- 시스템 성능 모니터링
- 에러 로깅 및 알림
- 사용자 행동 분석

---

## 📝 PM 추가 기획 필요 요소

### 1. 비즈니스 요구사항 정의
- **타겟 사용자**: 접근성 담당자, 매장 관리자, 정책 입안자
- **사용 시나리오**: 일상적 모니터링, 정기적 평가, 특별 검사
- **성공 기준**: 정확도 95% 이상, 처리 시간 5분 이내

### 2. 데이터 관리 전략
- **데이터 보존 정책**: 분석 결과 보관 기간 및 삭제 정책
- **백업 전략**: 데이터 손실 방지를 위한 백업 체계
- **데이터 품질 관리**: 잘못된 분석 결과 수정 프로세스

### 3. 사용자 경험 (UX) 개선
- **온보딩**: 신규 사용자를 위한 가이드 및 튜토리얼
- **접근성**: 웹 접근성 가이드라인 준수 (WCAG 2.1)
- **반응형 디자인**: 다양한 디바이스에서의 최적화

### 4. 운영 및 유지보수
- **모니터링 대시보드**: 시스템 상태 실시간 모니터링
- **알림 시스템**: 오류 발생 시 즉시 알림
- **문서화**: API 문서, 사용자 매뉴얼, 운영 가이드

### 5. 확장성 계획
- **다중 지역 지원**: 서울 외 다른 도시 확장
- **다국어 지원**: 영어, 중국어 등 다국어 인터페이스
- **API 공개**: 외부 시스템과의 연동을 위한 공개 API

### 6. 법적 및 윤리적 고려사항
- **개인정보보호법**: 이미지 내 개인정보 처리 방침
- **저작권**: 매장 이미지 사용 권한 및 라이선스
- **AI 윤리**: 편향성 없는 공정한 분석 보장

### 7. 비즈니스 모델
- **수익 모델**: 구독, 사용량 기반, 라이선스 모델 검토
- **가격 정책**: 사용자 유형별 차등 가격
- **파트너십**: 접근성 관련 기관과의 협력 방안

### 8. 품질 보증
- **테스트 전략**: 단위, 통합, E2E 테스트 계획
- **성능 테스트**: 부하 테스트 및 스트레스 테스트
- **사용자 테스트**: 실제 사용자 대상 베타 테스트

### 9. 배포 및 운영
- **CI/CD 파이프라인**: 자동화된 배포 프로세스
- **환경 관리**: 개발, 스테이징, 프로덕션 환경 분리
- **재해 복구**: 장애 발생 시 복구 계획

### 10. 마케팅 및 홍보
- **타겟 마케팅**: 접근성 관련 커뮤니티 및 기관 대상
- **사례 연구**: 성공 사례 수집 및 공유
- **교육 프로그램**: 사용자 교육 및 워크샵 진행

---

## 📞 연락처 및 참고자료

### 프로젝트 정보
- **저장소**: https://github.com/ugiugi0823/dongjeop-service-v2
- **데모 사이트**: https://ugiugi0823.github.io/dongjeop-service-v2
- **문서**: 프로젝트 README 및 API 문서

### 관련 표준
- **웹 접근성**: WCAG 2.1 (Web Content Accessibility Guidelines)
- **건축 접근성**: 장애인·고령자 등 주거약자 지원에 관한 법률
- **AI 윤리**: AI 윤리 가이드라인 (과학기술정보통신부)

---

*이 기획서는 프로젝트의 현재 상태를 바탕으로 작성되었으며, 지속적으로 업데이트될 예정입니다.*
